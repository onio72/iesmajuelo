<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recursos con IA - Antonio Gonz√°lez</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-hover: #1d4ed8;
            --primary-light: #eff6ff;
            --secondary: #64748b;
            --bg-body: #f8fafc;
            --bg-card: #ffffff;
            --text-main: #0f172a;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --radius: 0.75rem;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header & Navigation */
        header {
            background: white;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 1rem;
        }

        .header-content {
            max-width: 1100px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }

        .brand {
            font-weight: 800;
            font-size: 1.2rem;
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            white-space: nowrap;
        }

        .search-container {
            position: relative;
            flex: 1;
            max-width: 400px;
        }

        .search-input {
            width: 100%;
            padding: 0.6rem 1rem 0.6rem 2.5rem;
            border-radius: 2rem;
            border: 1px solid var(--border);
            font-family: inherit;
            font-size: 0.9rem;
            transition: all 0.2s;
            background: var(--bg-body);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 3px var(--primary-light);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0.4;
        }

        /* Toolbar / Breadcrumbs */
        .toolbar {
            background: white;
            border-bottom: 1px solid var(--border);
            padding: 0.75rem 1rem;
        }

        .toolbar-content {
            max-width: 1100px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .btn-back {
            background: white;
            border: 1px solid var(--border);
            padding: 0.4rem 0.8rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.4rem;
            transition: all 0.2s;
            color: var(--text-muted);
        }

        .btn-back:hover {
            background: var(--primary-light);
            color: var(--primary);
            border-color: var(--primary);
        }

        .breadcrumbs {
            font-size: 0.85rem;
            color: var(--text-muted);
            display: flex;
            gap: 0.4rem;
            align-items: center;
            overflow-x: auto;
            white-space: nowrap;
        }

        .breadcrumb-item { cursor: pointer; transition: color 0.2s; }
        .breadcrumb-item:hover { color: var(--primary); }
        .breadcrumb-sep { opacity: 0.3; font-weight: 300; }

        /* Main Content */
        main {
            flex: 1;
            max-width: 1100px;
            width: 100%;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .view-container {
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Grid Layout */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 1.5rem;
        }

        .card {
            background: var(--bg-card);
            padding: 2rem 1.5rem;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            box-shadow: var(--shadow-sm);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow);
            border-color: var(--primary);
        }

        .card::after {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 4px;
            background: var(--primary);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .card:hover::after { opacity: 1; }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 1.25rem;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
        }

        .card h2 {
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .card p {
            color: var(--text-muted);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        /* Resource Groups */
        .resource-section-title {
            margin: 2rem 0 1rem;
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text-main);
        }

        .resource-group {
            background: white;
            padding: 1.5rem;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        .resource-group h3 {
            margin-bottom: 1rem;
            color: var(--primary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 0.75rem;
        }

        .link-item {
            display: flex;
            align-items: center;
            padding: 0.8rem 1rem;
            background: var(--bg-body);
            border: 1px solid var(--border);
            border-radius: 0.6rem;
            text-decoration: none;
            color: var(--text-main);
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .link-item:hover {
            background: white;
            border-color: var(--primary);
            color: var(--primary);
            transform: translateX(3px);
            box-shadow: var(--shadow-sm);
        }

        .link-item::before {
            content: 'üîó';
            margin-right: 10px;
            font-size: 1rem;
            filter: grayscale(1);
        }

        .link-item:hover::before { filter: grayscale(0); }

        /* Search Results View */
        .search-results-info {
            padding: 1rem;
            margin-bottom: 1rem;
            background: var(--primary-light);
            border-radius: var(--radius);
            font-size: 0.9rem;
            color: var(--primary-dark);
        }

        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-muted);
        }

        .hidden { display: none !important; }

        footer {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-muted);
            font-size: 0.85rem;
            border-top: 1px solid var(--border);
            background: white;
            margin-top: auto;
        }

        @media (max-width: 600px) {
            .header-content { flex-direction: column; align-items: flex-start; }
            .search-container { max-width: 100%; width: 100%; }
            .grid { grid-template-columns: 1fr; }
            .links-grid { grid-template-columns: 1fr; }
            .brand { font-size: 1rem; }
        }
    </style>
</head>
<body>

<header>
    <div class="header-content">
        <div class="brand" onclick="navigateTo('root')">
            <span>ü§ñ</span> Recursos IA <span style="font-weight: 300; opacity: 0.6">| A. Gonz√°lez</span>
        </div>
        <div class="search-container">
            <span class="search-icon">üîç</span>
            <input type="text" id="searchInput" class="search-input" placeholder="Buscar temas, ejercicios, simuladores..." oninput="handleSearch()">
        </div>
    </div>
</header>

<div class="toolbar">
    <div class="toolbar-content">
        <button id="backBtn" class="btn-back hidden" onclick="goBack()">
            <span>‚Üê</span> Volver
        </button>
        <div id="breadcrumbs" class="breadcrumbs">Inicio</div>
    </div>
</div>

<main id="app"></main>

<footer>
    <p>&copy; 2024 Antonio Gonz√°lez - Repositorio de Recursos Educativos creados con IA</p>
    <p style="margin-top: 0.5rem; opacity: 0.7">Hecho con fines educativos para el IES Majuelo</p>
</footer>

<script>
    const DATA = {
        root: {
            title: "Inicio",
            items: [
                { id: 'eso', title: 'ESO', icon: 'üéí', desc: 'Educaci√≥n Secundaria Obligatoria' },
                { id: 'bach', title: 'Bachillerato', icon: 'üéì', desc: 'Ciencias y Tecnolog√≠a' },
                { id: 'fpb2', title: 'FPB2', icon: 'üõ†Ô∏è', desc: 'Formaci√≥n Profesional B√°sica' },
                { id: 'tools', title: 'Herramientas', icon: 'üß™', desc: 'Simuladores y Utilidades' },
                { id: 'cdd', title: 'CDD', icon: 'üíª', desc: 'Competencia Digital Docente' },
                { id: 'equipo', title: 'Equipo Directivo', icon: 'üìã', desc: 'Gesti√≥n y Calendario' },
                { id: 'departamento', title: 'Departamento', icon: 'üè´', desc: 'Organizaci√≥n Interna' },
                { id: 'otros', title: 'Otros', icon: '‚ú®', desc: 'Recursos Variados' }
            ]
        },
        eso: { 
            title: "ESO", 
            items: [
                { id: 'fq2', title: 'FQ 2¬∫ ESO', icon: 'üß™', desc: 'F√≠sica y Qu√≠mica' }, 
                { id: 'fq3', title: 'FQ 3¬∫ ESO', icon: '‚öóÔ∏è', desc: 'F√≠sica y Qu√≠mica' }, 
                { id: 'fq4', title: 'FQ 4¬∫ ESO', icon: '‚öõÔ∏è', desc: 'F√≠sica y Qu√≠mica' }
            ] 
        },
        bach: { 
            title: "Bachillerato", 
            items: [
                { id: 'fq1', title: 'FQ 1¬∫ Bach', icon: 'üìö', desc: 'F√≠sica y Qu√≠mica' }, 
                { id: 'fi2', title: 'F√≠sica 2¬∫ Bach', icon: 'üåå', desc: 'Preparaci√≥n PAU/EBAU' }
            ] 
        },
        fq2: { 
            title: "FQ 2¬∫ ESO", 
            groups: [
                { name: "Formulaci√≥n", links: [{ name: "F√≥rmulas qu√≠micas", url: "https://onio72.github.io/iesmajuelo/eso/fq2/formulasquimicas/" }] },
                { name: "Teor√≠a Cin√©tico Molecular", links: [
                    { name: "Simulador gases", url: "https://onio72.github.io/iesmajuelo/eso/fq2/tcm/FQ2_simulador_gas_v02.html" },
                    { name: "Simulador materia", url: "https://onio72.github.io/iesmajuelo/eso/fq2/tcm/FQ2_simulador_materia_v12.html" },
                    { name: "Simulador s√≥lidos + Quiz", url: "https://onio72.github.io/iesmajuelo/eso/fq2/tcm/FQ2_simulador_solido_v16_quiz.html" },
                    { name: "Simulador burbujas", url: "https://onio72.github.io/iesmajuelo/eso/fq2/tcm/FQ2_burbujas.html" }
                ]},
                { name: "Cinem√°tica", links: [
                    { name: "Dibujar gr√°fica", url: "https://onio72.github.io/iesmajuelo/eso/fq2/cinematica/dibujargrafica.html" },
                    { name: "MRU sentido velocidad", url: "https://onio72.github.io/iesmajuelo/eso/fq2/cinematica/mru_sentidov.html" },
                    { name: "Comparar velocidades MRU", url: "https://onio72.github.io/iesmajuelo/eso/fq2/cinematica/mru_comparav.html" },
                    { name: "C√°lculo de velocidad", url: "https://onio72.github.io/iesmajuelo/eso/fq2/cinematica/mru_calculov.html" }
                ]}
            ] 
        },
        fq3: { 
            title: "FQ 3¬∫ ESO", 
            groups: [
                { name: "T01 - M√©todo Cient√≠fico", links: [
                    { name: "Repaso Sistema Internacional", url: "https://onio72.github.io/iesmajuelo/eso/fq3/t01/repasoSI.html" },
                    { name: "Representaci√≥n gr√°fica", url: "https://onio72.github.io/iesmajuelo/eso/fq3/t01/repgrafica.html" },
                    { name: "Cambio de unidades (m√©todo coma)", url: "https://onio72.github.io/iesmajuelo/eso/fq3/t01/movercoma.html" },
                    { name: "Cambio de unidades de volumen", url: "https://onio72.github.io/iesmajuelo/eso/fq3/t01/cambiosvolumen.html" }
                ]},
                { name: "T02 - El √Åtomo y Tabla Peri√≥dica", links: [
                    { name: "Tabla de valencias", url: "https://onio72.github.io/iesmajuelo/eso/fq3/formulacion/tabla_valencias.html" },
                    { name: "Masas at√≥micas y molares", url: "https://onio72.github.io/iesmajuelo/eso/fq3/t02/tabla01/" },
                    { name: "Abundancia isot√≥pica", url: "https://onio72.github.io/iesmajuelo/eso/fq3/t02/abundisot/" },
                    { name: "Configuraci√≥n electr√≥nica", url: "https://onio72.github.io/iesmajuelo/eso/fq3/t02/configelect/" }
                ]}
            ] 
        },
        fq4: { title: "FQ 4¬∫ ESO", groups: [{ name: "Cinem√°tica", links: [{ name: "MCU (Movimiento Circular)", url: "https://onio72.github.io/iesmajuelo/eso/fq4/mcu/index.html" }] }] },
        fq1: { 
            title: "FQ 1¬∫ Bach", 
            groups: [
                { name: "Qu√≠mica", links: [{ name: "F√≥rmula emp√≠rica", url: "https://onio72.github.io/iesmajuelo/bach/fq1/formulaempirica/" }] },
                { name: "F√≠sica - Cinem√°tica", links: [
                    { name: "Ca√≠da libre - Grifo", url: "https://onio72.github.io/iesmajuelo/bach/fq1/caidalibre/grifo/index.html" },
                    { name: "Tiro parab√≥lico (Simulador)", url: "https://onio72.github.io/iesmajuelo/bach/fq1/tiro_parabolico/" },
                    { name: "Generador Tiro Parab√≥lico", url: "https://onio72.github.io/iesmajuelo/bach/fq1/tiroparabgen/" }
                ]},
                { name: "Din√°mica", links: [
                    { name: "Plano inclinado", url: "https://onio72.github.io/iesmajuelo/bach/fq1/planoinclinado/" },
                    { name: "Plano inclinado con rozamiento", url: "https://onio72.github.io/iesmajuelo/bach/fq1/planoincroz/" },
                    { name: "Cuerpos enlazados", url: "https://onio72.github.io/iesmajuelo/bach/fq1/cuerposenlazados/" }
                ]},
                { name: "Colisiones", links: [
                    { name: "Choque inel√°stico", url: "https://onio72.github.io/iesmajuelo/bach/fq1/choques/choques.html" },
                    { name: "Choque el√°stico", url: "https://onio72.github.io/iesmajuelo/bach/fq1/choques/choque01.html" },
                    { name: "Choque coef. restituci√≥n", url: "https://onio72.github.io/iesmajuelo/bach/fq1/choques/choque03.html" }
                ]}
            ] 
        },
        fi2: { 
            title: "F√≠sica 2¬∫ Bach", 
            groups: [
                { name: "Campo gravitatorio", links: [
                    { name: "Campo gravitatorio (2 masas)", url: "https://onio72.github.io/iesmajuelo/bach/fi2/t01/campo_gravitatorio/" },
                    { name: "Fuerza gravitatoria", url: "https://onio72.github.io/iesmajuelo/bach/fi2/t01/fuerza_gravitatoria/" },
                    { name: "Teor√≠a: Campo gravitatorio", url: "https://onio72.github.io/iesmajuelo/bach/fi2/t01/cuestteor01/" }
                ]},
                { name: "Vibraciones y ondas", links: [
                    { name: "Principio de Huygens", url: "https://onio72.github.io/iesmajuelo/bach/fi2/t02/huygens/" },
                    { name: "Modos vibraci√≥n", url: "https://onio72.github.io/iesmajuelo/bach/fi2/t02/modosvib01/" },
                    { name: "Lab. ondas estacionarias", url: "https://onio72.github.io/iesmajuelo/bach/fi2/t02/estacionaria/" }
                ]},
                { name: "Campo el√©ctrico", links: [
                    { name: "Campo el√©ctrico (2 cargas)", url: "https://onio72.github.io/iesmajuelo/bach/fi2/t03/campo_electrico/" },
                    { name: "Potencial el√©ctrico", url: "https://onio72.github.io/iesmajuelo/bach/fi2/t03/potencial_electrico/" }
                ]}
            ] 
        },
        fpb2: {
              title: "FPB 2",
              groups: [
                  { name: "Geometr√≠a y Volumen", links: [
                      { name: "Reconocer figuras 3D", url: "https://onio72.github.io/iesmajuelo/fpb2/t04/figuras3D/" },
                      { name: "Teorema de Euler", url: "https://onio72.github.io/iesmajuelo/fpb2/t04/figuras3Deuler/" },
                      { name: "Problemas de volumen", url: "https://onio72.github.io/iesmajuelo/fpb2/t04/probvol/" }
                  ]},
                  { name: "Estad√≠stica", links: [
                      { name: "Tabla de frecuencias paso a paso", url: "https://onio72.github.io/iesmajuelo/fpb2/t05/tablafrecuencias/" },
                      { name: "Ejercicio de tabla de frecuencias", url: "https://onio72.github.io/iesmajuelo/fpb2/t05/tablafrec_ej/" },
                      { name: "Crea gr√°fico de barras(I)", url: "https://onio72.github.io/iesmajuelo/fpb2/t05/grafbarras01/" }
                  ]}
              ]
          },


        tools: { title: "Herramientas", groups: [{ name: "Simuladores", links: [{ name: "Dibuja √°tomos", url: "https://onio72.github.io/tools/atomo.html" }] }] },
        cdd: { title: "CDD", groups: [{ name: "Digital", links: [{ name: "Repositorio de p√≠ldoras", url: "https://onio72.github.io/cdd/" }] }] },
        equipo: { 
            title: "Equipo Directivo", 
            groups: [
                { name: "Gesti√≥n", links: [
                    { name: "Calendario", url: "https://onio72.github.io/ed/calendario.html" },
                    { name: "Flujos de trabajo", url: "https://onio72.github.io/ed/flujo/index.html" }
                ]}
            ] 
        },
        departamento: { title: "Departamento", groups: [{ name: "Organizaci√≥n", links: [{ name: "Reparto materias", url: "https://onio72.github.io/iesmajuelo/departamentoFQ/reparto/" }, { name: "Evaluando por competencias", url: "https://onio72.github.io/iesmajuelo/departamentoFQ/evalcomp/index.html" }] }] },
        otros: { title: "Otros", groups: [{ name: "Varios", links: [{ name: "Bingo viajero", url: "https://onio72.github.io/bingo/" }] }] }
    };

    let navigationStack = ['root'];
    let isSearchActive = false;

    function navigateTo(id) {
        if (!DATA[id]) return;
        
        // Limpiar b√∫squeda al navegar
        document.getElementById('searchInput').value = '';
        isSearchActive = false;

        if (id === 'root') {
            navigationStack = ['root'];
        } else {
            // Evitar duplicados consecutivos en el stack
            if (navigationStack[navigationStack.length - 1] !== id) {
                navigationStack.push(id);
            }
        }
        render();
    }

    function goBack() {
        if (navigationStack.length > 1) {
            navigationStack.pop();
            render();
        }
    }

    function handleSearch() {
        const query = document.getElementById('searchInput').value.toLowerCase().trim();
        const app = document.getElementById('app');
        const backBtn = document.getElementById('backBtn');
        const breadcrumbs = document.getElementById('breadcrumbs');

        if (query.length < 2) {
            isSearchActive = false;
            render();
            return;
        }

        isSearchActive = true;
        backBtn.classList.remove('hidden');
        breadcrumbs.innerHTML = `Resultados de: <strong>${query}</strong>`;

        const results = [];
        
        // Buscar en todo el objeto DATA
        Object.keys(DATA).forEach(key => {
            const node = DATA[key];
            if (node.groups) {
                node.groups.forEach(group => {
                    group.links.forEach(link => {
                        if (link.name.toLowerCase().includes(query) || group.name.toLowerCase().includes(query)) {
                            results.push({ ...link, category: node.title, group: group.name });
                        }
                    });
                });
            }
        });

        let html = `<div class="view-container">`;
        if (results.length > 0) {
            html += `<div class="search-results-info">Se han encontrado ${results.length} recursos</div>`;
            html += `<div class="links-grid">`;
            results.forEach(res => {
                html += `
                    <a href="${res.url}" class="link-item" target="_blank">
                        <div style="display:flex; flex-direction:column">
                            <span>${res.name}</span>
                            <small style="font-size:0.7rem; opacity:0.6">${res.category} ‚Ä∫ ${res.group}</small>
                        </div>
                    </a>
                `;
            });
            html += `</div>`;
        } else {
            html += `<div class="no-results">
                <div style="font-size: 3rem; margin-bottom: 1rem">üîç</div>
                <p>No se encontraron recursos que coincidan con "${query}"</p>
            </div>`;
        }
        html += `</div>`;
        app.innerHTML = html;
    }

    function render() {
        if (isSearchActive) return;

        const app = document.getElementById('app');
        const backBtn = document.getElementById('backBtn');
        const breadcrumbs = document.getElementById('breadcrumbs');
        const currentId = navigationStack[navigationStack.length - 1];
        const currentData = DATA[currentId];

        // Update Breadcrumbs
        if (currentId === 'root') {
            backBtn.classList.add('hidden');
            breadcrumbs.innerHTML = '<span class="breadcrumb-item">Inicio</span>';
        } else {
            backBtn.classList.remove('hidden');
            let bHtml = '';
            navigationStack.forEach((id, index) => {
                bHtml += `<span class="breadcrumb-item" onclick="jumpToStack(${index})">${DATA[id].title}</span>`;
                if (index < navigationStack.length - 1) {
                    bHtml += `<span class="breadcrumb-sep">/</span>`;
                }
            });
            breadcrumbs.innerHTML = bHtml;
        }

        let html = `<div class="view-container">`;
        
        if (currentData.items) {
            html += `<div class="grid">`;
            currentData.items.forEach(item => {
                html += `
                    <div class="card" onclick="navigateTo('${item.id}')">
                        <div class="card-icon">${item.icon}</div>
                        <h2>${item.title}</h2>
                        <p>${item.desc || ''}</p>
                    </div>
                `;
            });
            html += `</div>`;
        } else if (currentData.groups) {
            html += `<h1 class="resource-section-title">${currentData.title}</h1>`;
            currentData.groups.forEach(group => {
                html += `
                    <div class="resource-group">
                        <h3><span>üìÇ</span> ${group.name}</h3>
                        <div class="links-grid">
                            ${group.links.map(link => `
                                <a href="${link.url}" class="link-item" target="_blank" rel="noopener">
                                    ${link.name}
                                </a>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
        }
        
        html += `</div>`;
        app.innerHTML = html;
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function jumpToStack(index) {
        navigationStack = navigationStack.slice(0, index + 1);
        render();
    }

    window.onload = render;
</script>

</body>
</html>
